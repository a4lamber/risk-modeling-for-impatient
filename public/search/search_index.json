{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Risk Modeling for the impatient","text":"<p>This website is designed for those who has tech and math background and wants to break into risk modeling in a bank institution. </p>"},{"location":"risk_model/101/","title":"Risk Model 101","text":""},{"location":"risk_model/101/#overview","title":"Overview","text":"<p>Risk modeling is the bread and butter for bank. At the end of the day, risk model delivers scorecard looks like this, </p> <p></p> <p>There are primarily two types of scorecards used in banking:</p> <ul> <li> <p><code>Application Scorecard</code>: Used to evaluate new loan applicants. The model considers factors such as credit history, income, employment status, and debt-to-income ratio to determine the likelihood of the applicant repaying the loan.</p> </li> <li> <p><code>Behavioral Scorecard</code>: Used for existing customers, typically to assess the likelihood of default based on past account behavior. It considers factors like payment history, account balances, recent transactions, and usage patterns.</p> </li> </ul> <p>The application score card will base on your age, income, credit history etc to assessing risk to see if your score is over the cutoff, binary classification problem.</p>"},{"location":"risk_model/101/#key-components-of-a-scorecard-model","title":"Key Components of a Scorecard Model","text":"<p>Variables: The scorecard uses variables or features (e.g., age, income, credit history) relevant to assessing credit risk.</p> <ul> <li><code>Weightings</code>: Each variable is assigned a weight based on its predictive power. The more influential a variable, the higher its weight.</li> <li><code>Score</code>: The model produces a credit score, often ranging from 300 to 850 in consumer credit scoring systems like FICO. Higher scores indicate lower credit risk.</li> <li><code>Cutoff Score</code>: Banks set a cutoff score, above which applicants are approved and below which they may be rejected or subjected to additional scrutiny.</li> </ul>"},{"location":"risk_model/101/#how-banks-use-scorecard-models","title":"How Banks Use Scorecard Models","text":"<ul> <li><code>Credit Approval</code>: Banks use scorecards to automatically decide whether to approve or reject loan applications. This helps streamline the approval process.</li> <li><code>Risk-Based Pricing</code>: The score determines the interest rate offered to a borrower. Higher-risk customers may be charged higher rates to offset the risk of default.</li> <li><code>Regulatory Compliance</code>: Scorecards support compliance with regulatory requirements by providing objective, data-driven criteria for lending decisions.</li> <li><code>Portfolio Management</code>: Behavioral scorecards help banks monitor existing customers and proactively manage credit limits, upgrade or downgrade products, and initiate early intervention if a customer\u2019s risk profile changes.</li> <li><code>Fraud Detection</code>: Scorecard models can include features related to transaction behavior and account activity to detect potential fraud.</li> </ul>"},{"location":"risk_model/101/#building-a-scorecard-model","title":"Building a Scorecard Model","text":"<p>Building a scorecard typically involves the following steps:</p> <ul> <li><code>Data Collection</code>: Historical data on customer profiles and loan performance.</li> <li><code>Feature Engineering</code>: Selecting and transforming features that are predictive of risk.</li> <li><code>Model Development</code>: Using statistical techniques like logistic regression, decision trees, or machine learning to create a predictive model.</li> <li><code>Model Validation</code>: Testing the model on out-of-sample data to ensure accuracy. Deployment and Monitoring: Implementing the model in production and monitoring its performance over time to adjust for changes in customer behavior or economic conditions. Scorecard models are central to credit risk management, allowing banks to make informed lending decisions and maintain a balanced portfolio while minimizing the risk of defaults.</li> </ul>"},{"location":"risk_model/101/#summary","title":"Summary","text":"<p>In this section, we talked about how risk model used in a bank's setting and why it's needed. We shall dig in</p>"},{"location":"risk_model/101/#el-pd-lgd-and-ead","title":"EL, PD, LGD and EAD","text":"<p>At the end of the day we need to estimate <code>EL(expected loss)</code>, which is mutiplicially decomposed to PD, LGD and EAD,</p> <p>$$ \\begin{equation} EL = PD \\times LGD \\times EAD \\end{equation} $$ where \\(PD\\) is Probability Default, LGD is Loss Given Default and EAD is Exposure At Default</p>"},{"location":"risk_model/101/#overview_1","title":"Overview","text":"<p>What is credit risk?</p> <p>Creditor(lender) and debtor (Borrower) relationship and debtor typically borrow medium (money, home loan, credit card) with interest rate for incentive.</p> <p>Tip</p> <p>Credit Risk: The likelihood that a borrower would not repay their loan to the lender</p> <ul> <li>collection cost: creditor\u6536\u94b1\u7684\u6210\u672c</li> <li>default: borrower\u6ca1\u94b1\u8fd8\u4e86</li> </ul> <p>To diminish default, it has two ways</p> <ul> <li>increase interested rate: AKA risk-based pricing</li> <li>require collaterals</li> </ul> <p>\u4e3b\u8981\u8fd8\u662f\u9884\u6d4bprobability of default, \u4e5f\u5c31\u662f\u591a\u5927\u6982\u7387borrower\u8fd8\u4e0d\u4e0a\u94b1. </p>"},{"location":"risk_model/101/#el-pd-lgd-and-ead_1","title":"EL, PD, LGD and EAD","text":""},{"location":"risk_model/101/#el","title":"EL","text":"<p>Loss\u5206\u51e0\u90e8\u5206</p> <ul> <li>EL (expected loss): affected by the credit risk. </li> <li>UL (unexpected loss): result of adverse economic circumstances like financial crisis.</li> <li>Potential losses: unlikely to happen and hard to measure.</li> </ul> <p></p> <p>Our goal is to measure EL or expected credit loss. EL has three composition</p> item description \u5927\u767d\u8bdd probability of default The borrowers inability to repay their debt in full or on time \u501f\u503a\u8005\u591a\u5c11\u6982\u7387\u8fd8\u4e0d\u4e0a\u94b1 loss given default (<code>LGD</code>) The proportion of the total exposure that cannot be recoved by the lender once a default occurred \u4e00\u65e6\u8fd8\u4e0d\u4e0a\u94b1(default happens),\u591a\u5c11\u8d44\u4ea7\u94f6\u884c\u62ff\u4e0d\u56de\u6765, \u6bd4\u5982\u94f6\u884c\u501f\u4e8610\u4e07\u7684loan, default\u4e86\uff0c\u62ff\u56de\u67654\u4e07\uff0c\u4e8f\u4e866\u4e07\u3002LGD\u5c31\u662f6/10=60%, \u4e5f\u5c31\u662floss/loan ratio. Exposure at default (<code>EAD</code>) The total value that a leander is exposed to when a borrower defaults \u5047\u8bbeborrower defaults <p>LGD = outstanding loan balance - Recovery Amount</p> <p>Question: \u6709\u4e00\u4e2aloaner\u8981\u4e70\u4e00\u595750\u4e07\u7684\u623f\u5b50\uff0cloan to value\u4e3a80%. \u53bb\u5e74\u501f\u94b1\u4e70\u623f\u5b504\u4eba\u5c31\u67091\u4e2adefault, \u6240\u4ee5PD=25%. loaner\u5df2\u7ecf\u8fd8\u4e864\u4e07\uff0c\u5982\u679cdefault happen, assume\u94f6\u884c\u80fd\u9a6c\u4e0a\u5356\u51fa\u623f\u5b50\uff0c\u8d5a\u56de34.2\u4e07\uff0c\u6c42expected loss.</p> \\[ \\begin{align} EL = PD\\times LGD \\times EAD \\end{align} \\] <p>\u7531\u4e8e\u5df2\u7ecf\u8fd8\u4e864\u4e07\uff0cEAD=40-4 = 36\u4e07\u3002\u5047\u8bbedefault and \u5356\u6389\u623f\u5b50\u540e\u53d1\u73b0\uff0c\u5fc5\u4e8f36-34.2=1.8\u4e07\uff0c</p> \\[ \\begin{equation} LGD = \\frac{18000}{360000} = 5\\% \\end{equation} \\] <p>PD = 25% x 5% x 360000 = 4500</p>"},{"location":"risk_model/101/#capital-adequacy-regulations-and-the-base-ii-accord","title":"Capital adequacy, regulations and the Base II accord","text":"<p>In this section we will cover,</p> <ul> <li>Capital Adequacy Ratio</li> <li>Base II accords</li> </ul> <p>\u4e3a\u4e86\u907f\u514d\u50cf2008financial crisis\u8fd9\u6837\u7684\u4e8b\u60c5\uff0c\u51fa\u4e86\u4e00\u7cfb\u5217regulation, \u6bd4\u5982</p> <ul> <li>capital requirement: \u4e5f\u53ebcapital adequacy or regulatory capital, \u4e5f\u5c31\u662f\u94f6\u884c\u6709\u591a\u5c11capital\u6765\u5e94\u5bf9default loss\u907f\u514dcost.</li> </ul> <p>$$ \\begin{equation} CAR = \\frac{Capital}{Risk-weighted assets} &gt; \\% \\end{equation} $$ where CAR is capital adequacy ratio </p> <p>Basel II Accord</p> <ul> <li>how much capital banks need to have</li> <li>how capital is defined</li> <li>how capital is compared against risk-weighed assets</li> </ul> <pre><code>flowchart TD\nbasel(\"Basel II Accord\")\na(\"Minimum Capital Requirements\")\nb(\"Supervisory Review\")\nc(\"Market Discipline\")\na1(\"credit risk\")\na2(\"operational risk\")\na3(\"market risk\")\nbasel --&gt; a &amp; b &amp; c\na --&gt; a1 &amp; a2 &amp; a3\na11(\"SA\")\na12(\"IRB\")\na1 --&gt; a11 &amp; a12\na121(\"F-IRB\")\na122(\"A_IRB\")\na12 --&gt; a121 &amp; a122</code></pre> - - description - SA standardized approach not flexible since all external IRB internal rating based F-IRB Foundation IRB A-IRB Advanced IRB"},{"location":"risk_model/101/#basel-ii","title":"Basel II","text":"- SA F-IRB A-IRB PD Externally Provided Internally estimated Internally estimate LGD Externally Provided Externally Provided Internally estimate EAD Externally Provided Externally Provided Internally estimate <p>External provider\u7684\u516c\u53f8\u5305\u62ecFICO, S&amp;P Global, Moody's and Fitch Rating. (In US)</p> <p>\u57fa\u672c\u4e0a\u94f6\u884c\u4e1a\u52a1\u7684\u903b\u8f91\u662f, </p> <ul> <li>SA --&gt; F-IRB and A-IRB</li> </ul> <p>\u7531\u4e8eSA\u90fd\u662fexternal data source, regulator\u7ed9\u7684\u90fd\u662f\u4fdd\u5b88\u4f30\u8ba1\uff0c\u6240\u4ee5\u7ed9\u7684\u8981\u6c42RWA\u5f88\u5927\u3002\u6240\u4ee5\u5355\u4f4dcapital\u80fd\u501f\u51fa\u53bb\u7684loan\u5c31\u66f4\u5c0f,\u4e5f\u5c31\u662f\u66f4\u5c11\u6536\u76ca\u3002\u94f6\u884c\u4e3a\u4e86\u501f\u51fa\u53bb\u66f4\u591a\u7684\u8d37\u6b3e\uff0c\u9700\u8981\u7528\u522b\u7684regulator-approved approach\u6765\u66f4\u7cbe\u786ecalculate\u6fc0\u8fdb\u7684RWA, \u53ef\u4ee5\u53c8\u5408\u89c4\u53c8\u80fd\u501f\u51fa\u53bb\u66f4\u591a\u7684\u94b1.</p> <p>[!note] Credit score\u5bf9\u4e8e\u516c\u53f8/\u653f\u5e9c\u4e00\u822c\u662f\u7ed9A+,B++\u7684rating, \u5bf9individual\u662fnumeric score.</p>"},{"location":"risk_model/101/#different-facility-types","title":"Different facility types","text":"<p>From section 1, ignore for now</p>"},{"location":"risk_model/woe_iv/","title":"WOE and IV","text":"<p>In this section, we will talk about WoE (weight of evidence) and IV(information value) in the context of logistic regression for risk modeling.</p>"},{"location":"risk_model/woe_iv/#introduction","title":"Introduction","text":"<p>WoE, in the context of risk modelling does three things, </p> <ul> <li><code>binning of feature</code> such that it's monotonic to reduce statistical noise by removing non-linearity. And feature's interoperability (at the cost of losing prediction power)</li> <li><code>Substitute Continuous Variable</code>: Use age for example, convert age --&gt; age group and then calculate their respective \\(WoE_i\\) for each age group. Use \\(WoE_i\\) instead of age-group in the logistic model, labelled as age.</li> <li><code>Substitute Categorical</code></li> </ul> <p>Tip</p> <p><code>WoE</code> and <code>IV</code> is useful for feature binning but limited only in binary classification, usually logistic regression. If modeller wish to try out different model like SVM, you have to use other binning strategy. It is due to SVM can capture non-linear relationship between predictor and target value. If you only use WoE, which require monotonicity, you will end up losing the non-linearity feature which serves no good for non-linear model like SVM.</p>"},{"location":"risk_model/woe_iv/#woe-and-iv-math-formulation","title":"WOE and IV Math Formulation","text":"<p>Let's assume our target value of 1 as good and 0 as bad, </p> <p>\\(WoE_i\\) (weight of evidence) is defined as</p> <p>$$ \\begin{align} WoE_i &amp; = ln\\left(\\frac{\\textbf{num of good in class}}{\\textbf{num of total good}}\\right) - ln\\left(\\frac{\\textbf{num of bad in class}}{\\textbf{num of total bad}}\\right) \\  &amp;= ln\\left(\\frac{\\textbf{\\% of good}}{\\textbf{\\% of bad}}\\right) \\end{align} $$ where \\(WoE_i\\) is the weight of evidence for \\(i\\)th bin, </p> <p>As for \\(IV_i\\), it's dependent on </p> \\[ \\begin{equation} IV_i = WoE_i \\times \\left(\\textbf{\\% of good in class i} - \\textbf{\\% of bad in class i}\\right) \\end{equation} \\]"},{"location":"risk_model/woe_iv/#woe-intuition","title":"WoE Intuition","text":"<p>WoE is useful for binning, let's say continuous variable like age. Binning or bucketing is often used to convert</p> <p>For example, </p> Age Group Good Bad WoE IV 18-35 2000 400 -0.75 0.23 36-55 3402 201 0.47 0.08 56-70 1900 92 0.67 0.09 Total 7302 693 - 0.4 <p>If we draw out diagram, due to it's logarithmic nature</p> <p></p> <p>In feature engineering, some questions naturally arises, such as </p> <ul> <li>weight of evidence (WOE) values maintain a monotonic relationship with the 1/0 variable (loan default or not default for example.)</li> <li>each bin is reasonably sized and large enough to be representative of population segments,</li> <li>Optimize IV value in the process of binning (iterative process)</li> </ul>"},{"location":"risk_model/woe_iv/#discussion-on-monotonicity","title":"Discussion on monotonicity","text":"<p>An example of coarse binning and find binning is shown here, </p> <p></p>"},{"location":"risk_model/woe_iv/#iv-intuition","title":"IV Intuition","text":"<p>\\(\\sum IV_i\\) has been used to measure the predicting power of predictor, generally under the guideline of following </p> Information Value Predictive Power &lt;0.02 useless for prediction 0.02 to 0.1 weak predictor 0.1 to 0.3 medium predictor 0.3 to 0.5 strong predictor &gt; 0.5 suspicious or too good to be true <p>It's generally good to have medium and strong predictor.</p> <p>Your woe-binning algorithm typically will target to iteratively choose bin size to get \\(\\sum IV_i\\) to some where between 0.3 - 0.5. </p>"},{"location":"risk_model/woe_iv/#reference","title":"Reference","text":"<p>Some basics</p> <ul> <li>Medium: WoE importance</li> <li>Medium: WoE Binning in real-time credit risk modeling</li> <li>WoE case study</li> </ul> <p>Implementation of the Monotone optimal binning algorithm for credit risk modeling (2017)</p> <ul> <li>GIthub: Monotonic WoE binning algorithm, code implementation</li> <li>Another monotonic WoE binning</li> </ul>"}]}